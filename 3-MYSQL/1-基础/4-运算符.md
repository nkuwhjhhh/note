# Part 4 运算符

**隐式转换**：字符串转换为数字，若转换不成功，则按照0处理

### 1. 算术运算符

**加 + ，减 - ，乘 * ，除 / 或 DIV ，取模 % 或 MOD**

- MySQL中+只表示数值相加。如果遇到非数值类型，先尝试转成数值，如果转失败，就按0计算。
  - MySQL中字符串拼接要使用字符串函数CONCAT()实现
- 除不尽时，结果为浮点数，并保留到小数点后4位
- 在MySQL中，一个数除以0为NULL。



### 2. 比较运算符

等于 = ，安全等于 <=> ，不等于 <> 或 != ，小于 < ，小于等于 <= ，大于 > ，大于等于 >= 。

- =
  - 左右两边为字符串，按照ANSI编码判断
  - 一边为字符串，一边为整数，将字符串转化为数字比较
  - 若有任意一边为NULL，则比较结果为NULL
- <=>
  - 比=多的功能是可以对NULL进行判断，结果不为NULL
    - 两边均为NULL时，返回值为1
    - 仅一边为NULL时，返回值为0
- <> 或 !=
  - 若有任意一边为NULL，则比较结果为NULL

非符号类型运算符

- IS NULL

- IS NOT NULL

- LEAST（最小值）

  - 当参数是整数或者浮点数时，LEAST将返回其中最小的值
  - 当参数为字符串时，返回字母表中顺序最靠前的字符
  - 当比较值列表中有NULL时，不能判断大小，返回值为NULL

- GREATEST（最大值）

  - 类似上面

- BETWEEN ··· AND ···

- ISNULL(···)

- IN（属于）

  - 比如：`SELECT D FROM TABLE WHERE C IN (A,B)`
  - IN运算符用于判断给定的值是否是IN列表中的一个值，如果是则返回1，否则返回0。
  - 如果给定的值为NULL，或者IN列表中存在NULL，则结果为NULL。

- NOT IN（不属于）

  - 类似上面

- LIKE（模糊匹配）

  - “%”：匹配0个或多个字符。
  - “_”：只能匹配一个字符。
  - 如果满足条件则返回1，否则返回0。
  - 如果给定的值或者匹配条件为NULL，则返回结果为NULL。

- ESCAPE（\可以表示转义字符，如果希望用别的字符表示转义，可以用ESCAPE说明）

  - 说明该符号后的是普通字符不是特殊字符，比如通配符“%”

- REGEXP（正则表达式运算符）

  - 语法格式为：`expr REGEXP 匹配条件`

  - 如果expr满足匹配条件，返回1；如果不满足，则返回0。

  - 若expr或匹配条件任意一个为NULL，则结果为NULL。

  - ```
    （1）‘^’匹配以该字符后面的字符开头的字符串。
    （2）‘$’匹配以该字符前面的字符结尾的字符串。
    （3）‘.’匹配任何一个单字符。
    （4）“[...]”匹配在方括号内的任何字符。例如，“[abc]”匹配“a”或“b”或“c”。为了命名字符的范围，使用一个‘-’。“[a-z]”匹配任何字母，而“[0-9]”匹配任何数字。
    （5）‘*’匹配零个或多个在它前面的字符。例如，“x*”匹配任何数量的‘x’字符，“[0-9]*”匹配任何数量的数字，而“*”匹配任何数量的任何字符。
    ```

- RLIKE（正则表达式运算符）



### 3. 逻辑运算符

- 逻辑非NOT或!
- 逻辑与AND或&&
- 逻辑或OR或||
  - AND的优先级高于OR
- 逻辑异或XOR



### 4. 位运算符

- 按位与&
- 按位或|
- 按位异或^
- 按位取反~
- 按位右移>>
- 按位左移<<



### 5. 优先级

![image-20231210222824670](C:\Users\86158\AppData\Roaming\Typora\typora-user-images\image-20231210222824670.png)



### 6. 正则表达式

![image-20231210223342749](C:\Users\86158\AppData\Roaming\Typora\typora-user-images\image-20231210223342749.png)

